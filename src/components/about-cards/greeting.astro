---
import { fakeMasonryItemId } from "@/constants/ids"
import { DRESAN_EMAIL } from "@/constants/dresan-data"
import FakeMasonryItem from "@/components/fake-masonry-item.astro"
---

<FakeMasonryItem id={fakeMasonryItemId.greeting} class="wrapper">
  <img
    class="dresan-3d-skin"
    src="/images/skin-3d.webp"
    alt="Dresan minecraft skin 3d"
    width={408}
    height={612}
    loading="lazy"
  />
  <div class="message-list">
    <div class="message">¡Hola! 🖖🏼</div>
    <div class="message">Me llamo Javier Andrés</div>
    <div class="message">¡Pero puedes decirme Dresan!</div>
    <div class="message">
      Te dejo mi <a class="email-link" href={`mailto:${DRESAN_EMAIL}`} target="_blank">correo</a>
      para ponernos en contacto 🫱🏼
    </div>
  </div>
</FakeMasonryItem>

<style>
  .wrapper {
    position: relative;
  }

  .dresan-3d-skin {
    block-size: auto;
    margin-inline: auto;
  }

  .message-list {
    position: absolute;
    inset: 24px;
    inset-block-start: unset;
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .message {
    --background-opacity: 0.7;
    inline-size: fit-content;
    padding: 4px 10px;
    background-color: hsl(var(--color-card-background-secondary-hsl) / var(--background-opacity));
    border-radius: 4px 20px 20px 4px;
    text-wrap: pretty;
    transition: background-color var(--theme-transition-duration);
  }

  html[data-theme="light"] .message {
    --background-opacity: 0.9;
  }

  .message:first-of-type {
    border-top-left-radius: 20px;
  }

  .message:last-of-type {
    border-bottom-left-radius: 20px;
  }

  .email-link {
    --hover-color: hsl(0 95% 66%);
    text-decoration: underline;
  }

  html[data-theme="light"] .email-link {
    --hover-color: hsl(1 93% 38%);
  }

  .email-link:hover {
    color: var(--hover-color);
  }
</style>
